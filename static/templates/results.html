<p> ;alkgj;aslkgj;aslkdgj</p>
<div class="row">
  <h4 ng-hide="lastQuery==''" style="margin-bottom: 50px;"> Search results for: {{lastQuery}}</h4>
</div>

<div class="row" ng-repeat="result in searchResults track by $index">
  <div class="media" ng-hide="searchResults.length == 0">

    <div class="media-left">
      <a href="#">
        <img class="media-object" src={{result.img_path}} alt={{result._id}}>
      </a>

    </div>
    <div class="media-body">
      <h4 class="media-heading">{{result.title}}</h4> {{result.long_desc}}
    </div>
    <div class="media-right">
      <button class="btn btn-default" value={{result._id}} type="submit" data-toggle="modal" data-target="#flag-modal{{$index}}" ng-click="lastProduct(result._id)">Flag</button>
    </div>
  </div>
  <!-- modal -->
  <div class="modal fade" id="flag-modal{{$index}}" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <form ng-submit="addResultFlags(lastQuery, lastProductId, resultFlags)">

          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Please rank this result using some or all of the options</h4>
          </div>
          <div class="modal-body">
            <label class="checkbox-inline">
              <input type="checkbox" id="checkbox1" ng-model="resultFlags.modalValue1"> Inappropriate
            </label>
            <label class="checkbox-inline">
              <input type="checkbox" id="checkbox2" ng-model="resultFlags.modalValue2"> Not Helpful
            </label>
            <label class="checkbox-inline">
              <input type="checkbox" id="checkbox3" ng-model="resultFlags.modalValue3"> Wrong Tags
            </label>
            <label class="checkbox-inline">
              <input type="checkbox" id="checkbox4" ng-model="resultFlags.modalValue4"> Spam
            </label>
          </div>
          <div class="modal-footer">
            <button type="button" ng-click="resetFlags()" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="submit" value="submit" class="btn btn-primary">Save changes</button>
          </div>
        </form>

      </div>
    </div>
  </div>
  <!-- end modal -->

</div>
